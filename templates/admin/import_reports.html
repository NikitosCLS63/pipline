{% extends 'base.html' %}
{% block content %}
<div class="admin-panel" style="max-width:800px; margin:20px auto;">
    <h2>–≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á—ë—Ç–æ–≤ (CSV)</h2>
  
    <div style="margin:20px 0;">
        <form method="get" style="margin-bottom:20px;">
            <input type="hidden" name="download" value="1">
            <div style="display:flex; gap:12px; align-items:center; flex-wrap:wrap; margin-bottom:12px;">
                <label for="period" style="font-weight:600; min-width:120px;">–ü–µ—Ä–∏–æ–¥:</label>
                <select name="period" id="period" 
                    style="padding:8px; border:1px solid #ddd; border-radius:4px; flex:1; min-width:200px;">
                    <option value="all">–í—Å–µ –¥–∞–Ω–Ω—ã–µ</option>
                    <option value="week">–ü–æ—Å–ª–µ–¥–Ω—è—è –Ω–µ–¥–µ–ª—è</option>
                    <option value="month">–ü–æ—Å–ª–µ–¥–Ω–∏–π –º–µ—Å—è—Ü</option>
                    <option value="year">–ü–æ—Å–ª–µ–¥–Ω–∏–π –≥–æ–¥</option>
                </select>
  </div>
            <button type="submit"
                style="padding:10px 20px; background:#28a745; color:white; border:none; border-radius:4px; cursor:pointer; font-weight:600; font-size:14px;">
                üì• –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å CSV
            </button>
        </form>
    <p style="color:#666; font-size:12px; margin-top:12px;">
            –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ–¥—Ä–æ–±–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ –ø—Ä–æ–¥–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–∞—Ö. –°—Ç–æ–ª–±—Ü—ã: ID –∑–∞–∫–∞–∑–∞, ID —Ç–æ–≤–∞—Ä–∞, –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞, –ö–∞—Ç–µ–≥–æ—Ä–∏—è, –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ, –¶–µ–Ω–∞ –∑–∞ –µ–¥–∏–Ω–∏—Ü—É, –°—É–º–º–∞, –î–∞—Ç–∞ –∑–∞–∫–∞–∑–∞, –°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞, –°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã, –°—Ç–∞—Ç—É—Å –ø–ª–∞—Ç–µ–∂–∞, –ö–ª–∏–µ–Ω—Ç.
    </p>
    </div>

    <div style="margin-top:30px; padding:20px; background:#f8f9fa; border-radius:6px;">
        <h3 style="margin-top:0; margin-bottom:12px;">–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:</h3>
        <p style="margin:0; line-height:1.6;">
            –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ CSV —Ñ–∞–π–ª—ã —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –æ –ø—Ä–æ–¥–∞–∂–∞—Ö –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞. 
            –§–∞–π–ª –≤–∫–ª—é—á–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞–∫–∞–∑–∞—Ö, —Ç–æ–≤–∞—Ä–∞—Ö, —Ü–µ–Ω–∞—Ö, —Å—Ç–∞—Ç—É—Å–∞—Ö –∏ –∫–ª–∏–µ–Ω—Ç–∞—Ö. 
            –§–∞–π–ª –±—É–¥–µ—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ UTF-8 —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è–º–∏ –∑–∞–ø—è—Ç–æ–π –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –≤ Excel. 
            –í—ã–±–µ—Ä–∏—Ç–µ –ø–µ—Ä–∏–æ–¥ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ —ç–∫—Å–ø–æ—Ä—Ç–æ–º.
        </p>
    </div>
</div>

<script>
    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –∏–∑ URL –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
    const urlParams = new URLSearchParams(window.location.search);
    const period = urlParams.get('period');
    if (period) {
        document.getElementById('period').value = period;
    }
</script>
{% endblock %}
